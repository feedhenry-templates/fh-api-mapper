<html>
  <head>
    <title>API Mapper</title>
    <link rel="stylesheet" href="css/postie.css" />
    <link rel="stylesheet" href="lib/bootstrap/bootstrap.css" />
  </head>
  <body>
    <div class="container-fluid">

      
    </div>
    
    <script id="tplNodejsRequest" type="text/x-handlebars-template">
      <pre>
var request = require('request');
request({
  url: "{{url}}",
  method: "{{method}}",
  {{#if headers}}
  headers: {
    {{#each headers}}
      "{{@key}}" : "{{@this}}"{{#unless @last}},{{/unless}}
    {{/each}}
  }{{#if data}},{{/if}}
  {{/if}}
  {{#if data}}
  data: '{{ escapeSingleQuotes data }}'
  {{/if}}
}, function (error, response, body) {
  if (error) {
    return console.error('An error occured:', error);
  }
  console.log('Server responded with:', body);
});
</pre>

    <script id="tplCurlRequest" type="text/x-handlebars-template">
      <pre>
curl -X {{method}}{{#if headers}}{{#each headers}} -H "{{@key}}:{{@this}}" {{/each}} {{/if}} {{#if data}}--data "{{escapeSingleQuotes data}}"{{/if}} {{url}} 
      </pre>
    </script>
    
    <script id="tplResponseHeaders" type="text/x-handlebars-template">
      {{#each headers}}
        <strong>{{name}}</strong> : {{value}}<br />
      {{/each}}
    </script>
    <script id="tplForm" type="text/x-handlebars-template">
      <form class="try form-horizontal">
        <fieldset>
          <legend>Request</legend>
          {{#controlGroup "Method" "The HTTP Verb to make your request with."}}
            <select name="method" class="span2">
              <option>GET</option>
              <option>POST</option>
              <option>PUT</option>
              <option>PATCH</option>
              <option>DELETE</option>
              <option>HEAD</option>
              <option>OPTIONS</option>
            </select>
          {{/controlGroup}}
          
          {{#controlGroup "URL" "The full URL of the service you wish to integrate with."}}
            <input type="text" name="url" placeholder="Url" class="span6">
          {{/controlGroup}}
        </fieldset>  
        <fieldset>
          <legend>Headers</legend>
          
          {{#controlGroup "Content-type" "The type of content you will send in your request."}}
            <select name="content-type" class="span2">
              <option>application/json</option>
              <option>application/atom+xml</option>
              <option>application/x-www-form-urlencoded</option>
              <option>application/xml</option>
              <option>multipart/form-data</option>
              <option>text/html</option>
              <option>text/plain</option>
            </select>
          {{/controlGroup}}
          <br />
          <span class="help-block offset2">You can also specify additional headers to send in your request</span>
          
          {{#controlGroup "Headers"}}
            <textarea class="span12" name="headers-raw"></textarea>
          {{/controlGroup}}
        </fieldset>
        
        <fieldset>
          <legend>Request Body</legend>
          
          {{#controlGroup "Request body"}}
            <textarea class="span12" name="payload-raw"></textarea>
          {{/controlGroup}}
        </fieldset>
          
        <fieldset>
          {{#controlGroup}}
            <button class="btn" type="reset">Clean</button>
            <button class="btn btn-primary" type="submit">Send Request</button>
          {{/controlGroup}}
        </fieldset>
        <fieldset>
          <legend><a class="toggleable collapsed" data-toggle="collapse" href="#rawRequestCollapsible">Raw request </a></legend>
          <div id="rawRequestCollapsible" class="collapse">
            
            {{#controlGroup "Request Headers"}}
              <textarea class="span12" name="request-headers" disabled></textarea>
            {{/controlGroup}}
            
            {{#controlGroup "Raw Request"}}
              <textarea class="span12" name="request-raw" disabled></textarea>
            {{/controlGroup}}
          </div>
        </fieldset>

        <fieldset>
          <legend>Response</legend>
          {{#controlGroup "Status"}}
            <div class="status"></div>
          {{/controlGroup}}
          
          {{#controlGroup "Response Headers"}}
            <div class="responseHeaders"></div>
          {{/controlGroup}}
          
          {{#controlGroup "Response Body"}}
            <textarea name="response-raw" rows="24" cols="100" disabled class="span12"></textarea>
          {{/controlGroup}}
        </fieldset>
        
        <fieldset>
          <legend><a class="toggleable collapsed" data-toggle="collapse" href="#sampleCodeCollapsible">Sample Code </a></legend>
          <div id="sampleCodeCollapsible" class="collapse">
            {{#controlGroup "Node.js Request"}}
              <div id="sample-nodejs"></div>
            {{/controlGroup}}
            {{#controlGroup "cURL Request"}}
              <div id="sample-curl"></div>
            {{/controlGroup}}
          </div>
        
        </fieldset>
        
        {{#controlGroup}}
          <button class="btn btn-primary disabled">Save API Mapping</button>
        {{/controlGroup}}
      </form>
    </script>
    <script src="http://code.jquery.com/jquery-2.1.4.min.js"></script>
    <script src="lib/underscore/underscore.js"></script>
    <script src="lib/handlebars/handlebars.js"></script>
    <script src="lib/backbone/backbone.js"></script>
    <script src="lib/bootstrap/bootstrap.js"></script>
    <script src="templates/helpers.js"></script>
    <script src="js/app.js"></script>
    <script src="js/logger.js"></script>
    <script src="js/request.view.js"></script>
    <script src="js/request.model.js"></script>
  </body>
</html>
